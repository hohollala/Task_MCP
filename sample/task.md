# 간소화된 프로젝트 작업 관리 시스템
프로젝트 작업 계획 수립 및 진행 관리 통합 시스템

## 명령어
이 시스템을 실행하려면 `/task` 명령어를 사용하세요.

### 매개변수
- **action** (string, 선택): 실행할 작업
  - 옵션: `plan`, `start`, `resume`
  - 기본값: `plan`
  - 설명: 수행할 작업의 종류를 지정합니다.


## 단계

### 1. Action에 따른 라우팅
각 action 값에 따라 아래의 기능으로 라우팅됩니다:
- `plan` → 프로젝트 계획 수립 (create_project_plan)
- `start` → 다음 작업 시작 및 완료 관리 (start_next_task)
- `resume` → 작업 재개 (resume_project)

### 2. 프로젝트 계획 수립 (create_project_plan)
**조건**: `action == 'plan'` 또는 `action == null`

#### 하위 단계:
1. **필수 파일 확인**: `claude.md` 파일 확인
   - 오류 메시지: "❌ claude.md 파일이 없습니다. 먼저 /init 명령으로 claude.me파일을 만드세요."
2. **필수 파일 확인**: `docs/requirements.md` 파일 확인
   - 오류 메시지: "❌ docs/requirements.md 파일이 없습니다. 먼저 /new 명령으로 요구사항을 작성해주세요."
3. **필수 파일 확인**: `docs/designed.md` 파일 확인
   - 오류 메시지: "❌ docs/designed.md 파일이 없습니다. 먼저 /new 명령으로 요구사항을 작성해주세요."
4. **필수 파일 확인**: `docs/technical_spec.md` 파일 확인
   - 오류 메시지: "❌ docs/technical_spec.md 파일이 없습니다. 먼저 /new 명령으로 요구사항을 작성해주세요."
5. **요구사항 분석**: `docs/requirements.md`,`docs/designed.md`,`docs/technical_spec.md` 기반 분석
   - 앱의 복잡도 수준 평가
   - 필수 기능 우선순위 설정
   - 기술적 난이도 및 리스크 분석
   - 예상 개발 기간 산정

3. **5단계 사고 프로세스 적용**: AI 개발자 사고방식으로 계획 수립

4. **파일 생성**: `docs/project_task.md`

5. **성공 메시지**:
   ```
   ✅ 작업 계획이 생성되었습니다!
   🚀 `/task start`로 첫 번째 작업을 시작하세요.
   ```

### 3. 다음 작업 시작 및 완료 관리 (start_next_task)
**조건**: `action == 'start'`

#### 하위 단계:
1. **필수 파일 확인**: `docs/project_task.md` 확인
   - 오류 메시지: "❌ 작업 파일이 없습니다. 먼저 /task plan으로 계획을 수립하세요."

2. **다음 작업 찾기**: `docs/project_task.md`에서 `[ ]` 상태의 첫 번째 작업 식별

3. **작업 레벨 확인 및 사용자 Armour 확인**:
   - **대분류-중분류-소분류 구조**: 중분류 시작 시만 사용자 확인
   - **대분류-중분류 구조**: 대분류 시작 시만 사용자 확인
   - **마지막 노드의 상위 노드에서만 확인**: "🚀 [작업ID] [작업명]을 시작하시겠습니까? (Yes/No)"

4. **작업 시작 출력**:
   ```
   🚀 [작업ID] [작업명] 시작
   ```

5. **작업 상태 업데이트**: `docs/project_task.md`에서 작업 상태를 `[-]` (진행중)으로 변경

6. **디자인 파일 생성**:
   - **조건**: 작업명에 "UI", "UX", "화면", "디자인" 키워드 포함 또는 `docs/requirements.md`에 디자인 관련 요구사항 명시
   - **동작**:
     - `docs/design.md` 파일 생성 또는 업데이트
     - `docs/requirements.md`와 `docs/project_task.md`를 분석해 디자인 룰과 디자인맵 작성
     - **5단계 디자인 사고 프로세스 적용**:
       - 사용자 요구사항 분석: 사용자 목표와 경험 중심
       - 디자인 원칙 설계: UI/UX 가이드라인 정의
       - 사용자 흐름 및 상호작용 검증: UX 유효성 확인
       - 디자인 구현 전략: 컴포넌트와 프로토타입 계획
       - 디자인 피드백 및 최적화: 완성도와 재사용성
     - **디자인 룰**:
       - UI/UX 원칙: 일관성, 접근성, 사용자 중심 설계
       - 색상 팔레트: 주요 색상, 보조 색상, 테마 호환
       - 타이포그래피: 폰트 스타일, 크기, 계층 구조
       - 반응형 설계: 모바일, 태블릿, 데스크톱 지원
     - **디자인맵**:
       - 컴포넌트 구조: 버튼, 입력 필드, 네비게이션 바
       - 화면 흐름: 예: 로그인 → 대시보드 → 설정
       - 와이어프레임 개요: 텍스트 기반 레이아웃 설명
   - **출력**:
     ```
     📝 디자인 파일(docs/design.md)이 생성되었습니다!
     ```

7. **5단계 분석 적용**:
   - 요구사항 분석: 작업의 목적과 범위
   - 아키텍처 설계: 구현 방법과 구조
   - 확장성 검증: 미래 확장 가능성
   - 구현 전략: 구체적 실행 계획
   - 코드 구현: 실제 구현 가이드

8. **완료 체크 자동화**:
   - **자동 감지** (가능 시): 완료 조건(예: 파일 생성, 테스트 통과, API 응답 성공) 확인
   - **사용자 확인** (자동 감지 불가 시):
     ```
     ✅ 작업을 완료했나요? (Yes/No)
     ```
     - Yes: `docs/project_task.md`에서 `[x]`로 변경
     - No: "작업을 계속 진행하거나 다시 확인하세요."

9. **작업 완료 출력**:
   ```
   ✅ [작업ID] [작업명] 완료
   ```

10. **다음 작업 자동 진행**:
    - 소분류/하위 작업들은 자동으로 다음 작업 진행
    - 상위 노드 작업만 사용자 확인 후 진행

11. **docs/project_task.md 파일규칙**
    - UI/UX 설계
    - 코드 설계
    - UI/UX 구현
    - UI 에 연결 할 함수 1차 구현 - 함수 원형과 로그 출력
    - 제대로 된 함수 구현
    - **위에 내용이 다 포함 되어야 한다.**

### 4. 작업 재개 (resume_project)
**조건**: `action == 'resume'`

#### 하위 단계:
1. **파일 확인**: `docs/project_task.md` 존재 여부 확인
   - 있으면: 현재 진행 상황 분석 후 다음 작업 시작 (start_next_task와 동일한 로직)
   - 없으면: 오류 메시지 "❌ 프로젝트 파일이 없습니다. 먼저 /task plan으로 계획을 수립하세요."

## 파일 구조

### `docs/project_task.md` 형식
```markdown
# 프로젝트: [프로젝트명]

[ ] 1. [대분류명]
**목표**: [목표 설명]

- [ ]  1.1. [중분류명]
  - [ ] 1.1.1. [소분류명]
  - [ ] 1.1.2. [소분류명]
  - [ ] 1.1.3. [소분류명]

- [ ] 1.2. [중분류명]
  - [ ] 1.2.1. [소분류명]
  - [ ] 1.2.2. [소분류명]

[ ] 2. [대분류명]
**목표**: [목표 설명]

- [ ] 2.1. [중분류명]
  - [ ] 2.1.1. [소분류명]
  - [ ] 2.1.2. [소분류명]
```


## 작업 상태 표시
- `[ ]` **대기중**: 아직 시작하지 않은 작업
- `[-]` **진행중**: 현재 작업 중인 작업
- `[x]` **완료**: 완료된 작업
- 작업이 시작하거나 작업이 완료 될때 바로 업데이트 해야한다.

## 사용 예시

### 계획 수립
```
/task
또는
/task plan
```

### 작업 진행
```
/task start
```

### 작업 재개
```
/task resume
```

## 예시 워크플로우

1. **요구사항 정의**: `/new` → `docs/requirements.md` 생성
2. **계획 수립**: `/task plan` → `docs/project_task.md` 생성
3. **작업 진행**: `/task start` → `docs/config.md` 작업 자동 진행 및 완료 관리
4. **작업 재개**: `/task resume` → 기존 프로젝트 이어서 진행

### 실행 예시

#### 1. 계획 수립`
```
/task plan
→ ✅ 작업 계획이 생성되었습니다!
→ 🚀 `/task start`로 첫 번째 작업을 시작하세요.
```

#### 2. 작업 진행 - 대분류-중분류-소분류 구조
```
/task start
→ 🚀 1.1 사용자 인증 시스템을 시작하시겠습니까? (Yes/No)  # 중분류에서만 확인
→ Yes
→ 🚀 1.1.1 Flutter 프로젝트 생성 및 폴더 구조 설계 시작  # 소분류는 자동 시작
→ 📝 디자인 파일(docs/design.md)이 생성되었습니다!
→ ✅ 작업을 완료했나요? (Yes/No)
→ Yes
→ ✅ 1.1.1 Flutter 프로젝트 생성 및 폴더 구조 설계 완료
→ 🚀 1.1.2 필수 패키지 설치 시작  # 다음 소분류 자동 진행
→ ✅ 작업을 완료했나요? (Yes/No)
→ Yes
→ ✅ 1.1.2 필수 패키지 설치 완료
→ 🚀 1.2 API 연동을 시작하시겠습니까? (Yes/No)  # 다음 중분류에서만 확인
```

#### 3. 작업 진행 - 대분류-중분류 구조
```
/task start
→ 🚀 Phase 1: 기본 인프라 구축을 시작하시겠습니까? (Yes/No)  # 대분류에서만 확인
→ Yes
→ 🚀 1.1 프로젝트 초기 설정 시작  # 중분류는 자동 시작
→ 📝 디자인 파일(docs/design.md)이 생성되었습니다!
→ ✅ 작업을 완료했나요? (Yes/No)
→ Yes
→ ✅ 1.1 프로젝트 초기 설정 완료
→ 🚀 1.2 업비트 API 연동 시작  # 다음 중분류 자동 진행
```

#### 4. 작업 재개
```
/task resume
→ (project_task.md 있음) 📋 이전 작업을 이어서 진행합니다.
→ 🚀 1.1.3 아키텍처 패턴 구현 시작  # 다음 미완료 작업 자동 찾기
→ 📝 디자인 파일(docs/design.md)이 생성되었습니다!

/task resume
→ (project_task.md 없음) ❌ 프로젝트 파일이 없습니다. 먼저 /task plan으로 계획을 수립하세요.
```

## 주요 개선사항

1. **명령어 단순화**: `plan`, `ready`만 유지
2. **파일 단순화**: `project_task.md`만 사용
3. **출력 단순화**: 시작/완료 메시지만 표시
4. **확인 최적화**: 마지막 노드의 상위 노드 작업 시작 시만 사용자 확인
5. **자동 진행**: 하위 작업들은 자동으로 연속 진행
6. **디자인 문서화**: UI/UX 작업 시 `docs/design.md` 자동 생성

## 통합 규칙

- **5단계 사고 프로세스**: 모든 작업에서 요구사항 분석, 아키텍처 설계, 확장성 검증, 구현 전략, 코드 구현 적용
- **데이터 검증**: Placeholder 데이터 금지, 환경 변수 사용
- **문서화**: 필요시 `docs/architecture.md`, `docs/decisions.md` 추가 생성
